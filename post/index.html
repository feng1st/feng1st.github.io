<!DOCTYPE html>
<html lang="utf-8">

<head>
    <meta charset="utf-8">
    <meta name="generator" content="Hugo 0.16-DEV" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="知耻而后勇，知不足而后进">
    <meta name="author" content="">

    <link rel="stylesheet" href="/css/bootstrap-3.3.7.min.css">
    <link rel="stylesheet" href="/css/theme.css">
    <link rel="stylesheet" href="/css/site.css">
    <link rel="stylesheet" href="/css/highlight-github-9.10.0.min.css">

<link rel="stylesheet" type="text/css" href="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.css">


    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://feng1st.github.io//index.xml">

    
    <title>Posts - 知耻而后勇，知不足而后进</title>
    <meta property='og:title' content="Posts - 知耻而后勇，知不足而后进">
    <meta property="og:type" content="article">
    

    <meta property="og:url" content="https://feng1st.github.io/post/">
    
    
</head>

<body>


    <div class="container">

      
      <nav class="navbar navbar-default">
        <div class="container-fluid">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">知耻而后勇，知不足而后进</a>
          </div>
          
        </div>
      </nav>


<div class="row">
    <div class="col-lg-8">

      <header class="title"><h1>Posts</h1></header>

      <div class="articles">
          
            <article class="well">
    <h2><a href="https://feng1st.github.io/post/2017-06-08-tcp-ip/">TCP/IP协议摘要</a></h2>
    <p>
        <i class="fa fa-clock-o"></i> Posted on June 8, 2017
    </p>
    
    <p>协议分层 应用层 Application 对应OSI协议Application、Presentation、Session三层 常见上层协议：HTTP、FTP、SMTP、TELNET 传输层 Transport 对应OSI协议Transport层 协议： TCP：（见下） UDP：不超时重传、不错误重传、不保证顺序 网络层 Internet 对应OSI协议Network层 协议： IP：（见下） ARP：IP地址到MAC地址转换 DARP：（略） ICMP：发生错误时，错误信息封包传给主机；IP重定向报文；路由发现报文 ping traceroute 利用IP协议的TTL实现 利用主机不可达和端口不可达区分 网络接口层 Network Interface 对应OSI协议Data Link、Physical两层 附加以太网部首 IP协议 附加IP部首 TTL，生存周期，每路由一层减1，为0时丢弃 实现traceroute 路由顺序： TTL为0时丢弃 匹配主机 匹配同子网路由器 匹配同网号路由器 匹配默认路由器 不保证可达，需配合ICMP由上层实现可靠性 TCP协议 流量控制的思想可以用于上层应用的开发 附加TCP部首 可靠协议 合理分块 超时重发 校验和校验 发送确认 组装时排序 滑动窗口流控 建立连接，三次握手： sequenceDiagram Client-Server: SYN Server--Client: ACK Client--Server: ACK 断开连接，四次握手： sequenceDiagram Client-Server: FIN Server--Client: ACK Server-Client: FIN Client--Server: ACK 流量控制 延迟发送</p>
    <a class="btn btn-primary" href="https://feng1st.github.io/post/2017-06-08-tcp-ip/">Read More <i class="fa fa-chevron-right"></i></a>
</article>

          
            <article class="well">
    <h2><a href="https://feng1st.github.io/post/2017-06-06-jvm-memory-gc/">Java内存模型和GC机制摘要</a></h2>
    <p>
        <i class="fa fa-clock-o"></i> Posted on June 7, 2017
    </p>
    
    <p>Java对象 对象位置 对象实例在堆中分配 实例对应的类信息在方法区分配 对象信息 对象实例包含对象头和对象属性 对象头包含对象信息，包括分代年龄、锁信息等；还包括对方法区类信息的引用 类信息包含对父类/接口的引用，用于方法重载 对象大小 空对象大小等于对象头大小，在32位虚拟机占8字节，64位占16字节，开启压缩占12字节 引用在32位虚拟机占4字节，64位占8字节，开启压缩占4字节 数组类型大小要在元素类型大小上增加4字节数组长度 对象最终大小按8字节对齐 Java内存区域 程序计数器 Program Counter Register 每线程 对于Java方法，记录当前字节码位置；对于Native方法，记录为Undefined 虚拟机栈 VM Stack 每线程 保存方法调用时的栈帧 Stack Frame 栈帧存放方法调用的局部变量表、操作栈、动态连接、方法出口等 局部变量表保存简单变量和对象的引用 栈帧大小在方法生存期内固定 如果栈深度超过虚拟机规定大小，抛出StackOverflowError 如果可供分配的内存不够，抛出OutOfMemoryError 本地方法栈 Native Method Stack 类似虚拟机栈 堆 Heap 线程共享 存储对象实例 是涉及GC的主要区域 方法区 Method Area 线程共享 保存加载的类信息（包括版本、接口、属性、方法、final常量、静态变量等）和运行时常量池 Runtime Constant Pool（包括字面常量、符号引用和直接引用） 在分代GC机制里，一般被成为永久代 Permanent Gen 对于存在大量Proxy动态类的系统，要考虑回收的问题 堆和栈的区别 栈：存放栈帧，内部包括简单变量和对象引用，在栈顶分配，后进先出，速度快 堆：存放对象实例，会因回收造成内存碎片，需要寻找下一个可供分配的连续空间，速度慢 对象访问方式 通过句柄池 栈或堆中的对象引用指向句柄池句柄，句柄分别指向堆中对象实例和方法区类信息 对象引用到句柄是多对一，句柄到对象实例是一对一，意味着对象实例因为GC移动而发生地址改变，只需要修改句柄 直接分配 栈或堆中的对象引用指向堆中的对象实例，对象实例内部指向方法区类信息 无中间层，较快。但是一旦对象实例移动，则需要更新所有的引用 HotSpot采用 对象生命周期 引用计数法 存在环状引用的问题 可达性分析算法 GC</p>
    <a class="btn btn-primary" href="https://feng1st.github.io/post/2017-06-06-jvm-memory-gc/">Read More <i class="fa fa-chevron-right"></i></a>
</article>

          
      </div>

      

    </div>
    <aside class="col-md-4">

    

    

    
    
    <div class="well">
        <h3 class="text-capitalize">categories</h3>
        <ul class="list-unstyled">
        
            <li><a href="/categories/java">Java</a></li>
        
            <li><a href="/categories/network">Network</a></li>
        
        </ul>
    </div>
    
    
    
    <div class="well">
        <h3 class="text-capitalize">tags</h3>
        <ul class="list-unstyled">
        
            <li><a href="/tags/gc">GC</a></li>
        
            <li><a href="/tags/jvm">JVM</a></li>
        
            <li><a href="/tags/java">Java</a></li>
        
            <li><a href="/tags/network">Network</a></li>
        
            <li><a href="/tags/tcp-ip">TCP-IP</a></li>
        
        </ul>
    </div>
    
    

</aside>

</div>
            <footer>
                <div class="row">
                    <div class="col-lg-12">
                        <p>
                            <span id="copyright">&copy;</span>
                            
                                2017
                            
                            
                                <a href="https://creativecommons.org/licenses/by-sa/4.0/">CC-BY-SA</a> -
                            
                                nf_xp
                                <br />
                            
                                Template by <a href="https://github.com/Fale/fale.io">fale.io</a> -
                            
                            
                                Theme by <a href="https://github.com/Fale/bootstrap2hugo">bootstrap2hugo</a> -
                            
                            Powered by <a href="http://gohugo.io" target="_blank">Hugo</a><br />
                        </p>
                    </div>
                </div>
            
            </footer>
        </div>

        <script src="/js/jquery-3.1.1.min.js"></script>
        <script src="/js/bootstrap-3.3.7.min.js"></script>
        <script type="text/javascript">
            (function() {
                var css = document.createElement('link');
                css.href = '/css/font-awesome-4.7.0.min.css';
                css.rel = 'stylesheet';
                css.type = 'text/css';
                document.getElementsByTagName('head')[0].appendChild(css);
            })();
        </script>
        <script src="/js/highlight-9.10.0.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript" src="https://cdn.rawgit.com/knsv/mermaid/6.0.0/dist/mermaid.min.js"></script>
<script>mermaid.initialize({startOnLoad:true});</script>

        <script>
(function() {
  if (window.location.hostname === "localhost") {
    console.log("Local dev, so no Google Analytics.");
    return;
  } else {
    (function(i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

    ga('create', '', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('send', 'pageview');
  }
})();
</script>

    </body>
</html>

